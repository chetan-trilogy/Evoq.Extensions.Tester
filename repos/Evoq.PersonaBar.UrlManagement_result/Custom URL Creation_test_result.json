{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.UrlManagement",
    "extension_type": "PersonaBar Module",
    "feature_name": "Custom URL Creation",
    "feature_description": "Create and manage custom friendly URLs for pages with support for multiple locales and portal aliases",
    "feature_priority": "Top",
    "test_date": "2026-01-09T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Create valid custom URL with standard path",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Content > Pages > URL Test Page > Advanced > S.E.O. tab",
          "expected": "URL Management section should be visible with 'Add URL' option",
          "actual": "URL Management section displayed with 'URLs for this page' heading and 'Add URL' button",
          "screenshot": "Custom_URL_Creation_step01_navigate.png"
        },
        {
          "step_number": 2,
          "action": "Click 'Add URL' and enter '/my-custom-test-url' as URL path with Active (200) status",
          "expected": "Form should accept the URL path and enable Save button",
          "actual": "Form accepted the URL path, Save button became enabled",
          "screenshot": "Custom_URL_Creation_step02_valid_url_form.png"
        },
        {
          "step_number": 3,
          "action": "Click Save to create the custom URL",
          "expected": "URL should be created and appear in the URL list",
          "actual": "URL '/my-custom-test-url' was created successfully with Active (200) status and 'SuperUser Account' as creator",
          "screenshot": "Custom_URL_Creation_step03_valid_url_created.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create custom URL with special characters requiring cleaning",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click 'Add URL' and enter '/test-special@chars#page$123' as URL path",
          "expected": "System should clean the URL path by removing special characters",
          "actual": "System displayed error message showing cleaned path: 'The path requested is /test-special@chars#page$123 but this will be cleaned to /test-specialchars-page-123.'",
          "screenshot": "Custom_URL_Creation_step04_special_chars_form.png"
        },
        {
          "step_number": 2,
          "action": "Save the URL after system cleaned the special characters",
          "expected": "URL should be saved with cleaned path",
          "actual": "URL was saved successfully as '/test-specialchars-page' with special characters properly removed",
          "screenshot": "Custom_URL_Creation_step05_special_chars_cleaned.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create localized URL for different languages",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click 'Add URL', select Spanish locale (localhost:8081/es-ar) from Site Alias dropdown",
          "expected": "Spanish locale should be selectable and show additional 'Selected Site Alias Usage' options",
          "actual": "Spanish locale (localhost:8081/es-ar) was selected and 'Selected Site Alias Usage' options appeared with 'This page only' and 'Page and Child Pages' choices",
          "screenshot": "Custom_URL_Creation_step10_localized_url_form.png"
        },
        {
          "step_number": 2,
          "action": "Enter Spanish URL path '/mi-pagina-de-prueba', select 'This page only', and save",
          "expected": "Localized URL should be created for Spanish locale",
          "actual": "URL '/mi-pagina-de-prueba' was successfully created with Active (200) status for Spanish locale",
          "screenshot": "Custom_URL_Creation_step11_localized_url_created.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Attempt to create duplicate URL and verify error handling",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to create URL '/my-custom-test-url' which already exists",
          "expected": "System should detect duplicate and show error with suggested alternative",
          "actual": "System displayed error: 'The path requested is /my-custom-test-url but this is a duplicate of an existing Url. A unique Url of /my-custom-test-url1 has been suggested.'",
          "screenshot": "Custom_URL_Creation_step06_duplicate_url_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create URL with different status codes (301 Redirect)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click 'Add URL', enter '/redirect-test-url' and select 'Redirect (301)' from URL Type dropdown",
          "expected": "Form should allow selecting Redirect (301) status",
          "actual": "Redirect (301) was selectable from URL Type dropdown",
          "screenshot": "Custom_URL_Creation_step07_redirect_301_form.png"
        },
        {
          "step_number": 2,
          "action": "Save the URL with Redirect (301) status",
          "expected": "URL should be created with Redirect (301) type",
          "actual": "URL '/redirect-test-url' was created successfully with Redirect (301) status",
          "screenshot": "Custom_URL_Creation_step08_redirect_301_created.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Validate required fields (empty path)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Open Add URL form and leave URL Path as just '/' (root/empty)",
          "expected": "Save button should be disabled when path is empty or just root '/'",
          "actual": "Save button was correctly disabled when URL path was just '/', preventing submission of invalid URL",
          "screenshot": "Custom_URL_Creation_step09_empty_path_disabled.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "URL path cleaning and normalization",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter URL with special characters that require cleaning",
          "expected": "System should automatically clean and normalize the URL path",
          "actual": "System used FriendlyUrlController.CleanNameForUrl to remove special characters (@, #, $) and normalize the path, showing informative error message about the cleaning",
          "screenshot": "Custom_URL_Creation_step04_special_chars_form.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "URL uniqueness validation",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to create a URL that already exists in the system",
          "expected": "System should validate uniqueness and suggest alternative URL",
          "actual": "System used FriendlyUrlController.ValidateUrl to detect duplicate and suggested unique alternative by appending '1' to the path",
          "screenshot": "Custom_URL_Creation_step06_duplicate_url_error.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "URL Management feature is accessed via Content > Pages > [Select Page] > Advanced > S.E.O. tab, not directly from Site Settings as documented",
    "The system provides two URL types: Active (200) and Redirect (301)",
    "When selecting a different Site Alias (locale), additional 'Selected Site Alias Usage' options appear: 'This page only' and 'Page and Child Pages'",
    "URL path cleaning uses FriendlyUrlController.CleanNameForUrl which removes special characters like @, #, $ and normalizes dashes",
    "URL uniqueness validation uses FriendlyUrlController.ValidateUrl which suggests alternatives by appending numbers",
    "Multiple locales are supported including: en-us, es-ar (Spanish), fr-fr (French), de-de (German), ar-er (Arabic)",
    "Each URL entry shows: URL path, URL Type, Generated By (either 'Automatic' or 'SuperUser Account')",
    "URLs can be edited and deleted using icon buttons next to each URL entry"
  ],
  "summary": {
    "total_scenarios": 8,
    "passed": 8,
    "failed": 0,
    "pass_rate": "100%"
  }
}
