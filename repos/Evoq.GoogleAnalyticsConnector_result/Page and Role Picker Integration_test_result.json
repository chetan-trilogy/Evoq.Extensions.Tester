{
  "metadata": {
    "extension_name": "Evoq.GoogleAnalyticsConnector",
    "extension_type": "Connector",
    "feature_name": "Page and Role Picker Integration",
    "feature_description": "Integration with DNN page picker and role selector for configuring tracking rules.",
    "feature_priority": "Medium",
    "test_date": "2026-01-09T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Access Advanced Settings with Page/Role Pickers",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Settings > Connectors",
          "expected": "Connectors list displays with Google Analytics connector",
          "actual": "Connectors list shows 'Google Analytics 4' instead of the original 'Google Analytics' connector with Advanced Settings",
          "screenshot": "Page_and_Role_Picker_Integration_step02_connectors_list.png"
        },
        {
          "step_number": 2,
          "action": "Click Edit on Google Analytics 4 connector",
          "expected": "Settings panel with Advanced Settings icon/link should appear",
          "actual": "Simplified settings panel appears with only 'Measurement ID' and 'Track for Administrators' - NO Advanced Settings available",
          "screenshot": "Page_and_Role_Picker_Integration_step03_ga4_settings_no_advanced.png"
        },
        {
          "step_number": 3,
          "action": "Search for Advanced Settings element in the UI",
          "expected": "Advanced Settings link/icon should be visible",
          "actual": "No Advanced Settings element found. DOM inspection confirmed the GoogleAnalytics4 connector template does not include the advancedSetting element",
          "screenshot": "Page_and_Role_Picker_Integration_step01_ga_settings.png"
        }
      ],
      "issues": [
        "The Page and Role Picker Integration feature exists in the original GoogleAnalytics connector (at DesktopModules/DNNCorp/Connectors/GoogleAnalytics/) but this connector is NOT visible in the Connectors UI",
        "Only the GoogleAnalytics4 connector (at DesktopModules/Connectors/GoogleAnalytics4/) is displayed, which is a simplified version WITHOUT Advanced Settings/Rules functionality",
        "Feature code exists but has no UI access point in the current installation"
      ]
    },
    {
      "scenario_name": "Load page picker dropdown",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to access page picker dropdown through Advanced Settings > Rules",
          "expected": "Page picker dropdown should load with DNN pages",
          "actual": "Cannot test - Advanced Settings with Rules/Page Picker is not accessible. The GoogleAnalytics4 connector shown in UI does not have this feature.",
          "screenshot": "Page_and_Role_Picker_Integration_step03_ga4_settings_no_advanced.png"
        }
      ],
      "issues": ["Feature UI not accessible - GoogleAnalytics4 connector does not include page picker functionality"]
    },
    {
      "scenario_name": "Search for specific pages",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to search for pages in page picker",
          "expected": "Search functionality should filter pages",
          "actual": "Cannot test - Page picker is not accessible via the GoogleAnalytics4 connector UI",
          "screenshot": "Page_and_Role_Picker_Integration_step03_ga4_settings_no_advanced.png"
        }
      ],
      "issues": ["Feature UI not accessible"]
    },
    {
      "scenario_name": "Select Any Page option",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to select 'Any Page' option in page picker",
          "expected": "'Any Page' should be available as default selection",
          "actual": "Cannot test - Page picker is not accessible via the GoogleAnalytics4 connector UI",
          "screenshot": "Page_and_Role_Picker_Integration_step03_ga4_settings_no_advanced.png"
        }
      ],
      "issues": ["Feature UI not accessible"]
    },
    {
      "scenario_name": "Load all available roles",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to access role picker dropdown",
          "expected": "Role dropdown should load all available roles",
          "actual": "Cannot test - Role picker is not accessible via the GoogleAnalytics4 connector UI",
          "screenshot": "Page_and_Role_Picker_Integration_step03_ga4_settings_no_advanced.png"
        }
      ],
      "issues": ["Feature UI not accessible"]
    },
    {
      "scenario_name": "Select specific role",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to select a specific role in role picker",
          "expected": "Should be able to select individual roles",
          "actual": "Cannot test - Role picker is not accessible via the GoogleAnalytics4 connector UI",
          "screenshot": "Page_and_Role_Picker_Integration_step03_ga4_settings_no_advanced.png"
        }
      ],
      "issues": ["Feature UI not accessible"]
    },
    {
      "scenario_name": "Select All Users role",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to select 'All Users' role in role picker",
          "expected": "'All Users' should be available and selectable",
          "actual": "Cannot test - Role picker is not accessible via the GoogleAnalytics4 connector UI",
          "screenshot": "Page_and_Role_Picker_Integration_step03_ga4_settings_no_advanced.png"
        }
      ],
      "issues": ["Feature UI not accessible"]
    },
    {
      "scenario_name": "Test page tree navigation",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to navigate page tree in page picker",
          "expected": "Page tree should be expandable and navigable",
          "actual": "Cannot test - Page picker with tree navigation is not accessible via the GoogleAnalytics4 connector UI",
          "screenshot": "Page_and_Role_Picker_Integration_step03_ga4_settings_no_advanced.png"
        }
      ],
      "issues": ["Feature UI not accessible"]
    },
    {
      "scenario_name": "Verify role sorting (alphabetical)",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to verify role dropdown is sorted alphabetically",
          "expected": "Roles should be listed in alphabetical order after 'All Users'",
          "actual": "Cannot test - Role picker is not accessible via the GoogleAnalytics4 connector UI. Code review confirms GetRoles() API sorts by RoleName: '.OrderBy(r => r.RoleName)'",
          "screenshot": "Page_and_Role_Picker_Integration_step03_ga4_settings_no_advanced.png"
        }
      ],
      "issues": ["Feature UI not accessible - alphabetical sorting verified in code only"]
    }
  ],
  "observations": [
    "Code review confirmed the Page and Role Picker Integration feature is fully implemented in the original GoogleAnalytics connector located at 'DesktopModules/DNNCorp/Connectors/GoogleAnalytics/'",
    "The feature includes: GetPagePickerOptions() API for page picker, GetRoles() API for role picker, Advanced Settings dialog with Rules grid containing page and role dropdowns",
    "The website installation has TWO Google Analytics connectors: (1) Original GoogleAnalytics with Advanced Settings (DNNCorp), (2) Simplified GoogleAnalytics4 without Advanced Settings",
    "Only the GoogleAnalytics4 connector is visible in the Connectors UI - the original connector with Page/Role Picker feature is not accessible",
    "The GetRoles() implementation returns 'All Users' first, then all other roles sorted alphabetically by RoleName (confirmed in ServicesController.cs:55)",
    "The page picker uses DNN's ItemListService for page tree navigation, search, and selection (confirmed in ServicesController.cs:31-44)",
    "This appears to be a connector registration/visibility issue where the newer GA4 connector has replaced the original connector in the UI without providing equivalent functionality"
  ],
  "summary": {
    "total_scenarios": 9,
    "passed": 0,
    "failed": 9,
    "pass_rate": "0%"
  }
}
