{
  "metadata": {
    "extension_name": "Evoq.GoogleAnalyticsConnector",
    "extension_type": "Connector",
    "feature_name": "Advanced Analytics Settings",
    "feature_description": "Advanced configuration options including domain name settings and admin tracking preferences with toggle functionality.",
    "feature_priority": "High",
    "test_date": "2026-01-09T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Configure custom domain name",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Settings > Connectors > Google Analytics 4",
          "expected": "Advanced Settings link with Domain Name field should be visible",
          "actual": "Only basic connector panel shown with Measurement ID and Track for Administrators checkbox. No Advanced Settings link or Domain Name field found in UI.",
          "screenshot": "Advanced_Analytics_Settings_step01_connector_panel.png"
        }
      ],
      "issues": ["Advanced Settings feature (including Domain Name configuration) is not accessible in the current UI. The code exists in connector.htm with advancedSetting link, but the running application uses a GA4-specific template without this feature."]
    },
    {
      "scenario_name": "Enable tracking for administrators",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Google Analytics 4 connector and click Track for Administrators checkbox to enable",
          "expected": "Checkbox should become checked",
          "actual": "Checkbox became checked as expected",
          "screenshot": "Advanced_Analytics_Settings_step02_track_admin_enabled.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings should be saved successfully",
          "actual": "Settings saved with 'Item successfully saved' message displayed",
          "screenshot": "Advanced_Analytics_Settings_step03_save_success.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Disable tracking for administrators",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Track for Administrators checkbox to disable",
          "expected": "Checkbox should become unchecked",
          "actual": "Checkbox became unchecked as expected",
          "screenshot": "Advanced_Analytics_Settings_step04_track_admin_disabled.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings should be saved successfully",
          "actual": "Settings saved with 'Item successfully saved' message displayed",
          "screenshot": "Advanced_Analytics_Settings_step05_save_disabled_success.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Toggle admin tracking switch on/off",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Look for toggle switch for admin tracking in Advanced Settings",
          "expected": "Toggle switch (dnn-switch component) should be visible with On/Off labels",
          "actual": "Only a simple checkbox is available in GA4 connector UI. The toggle switch from advanced.htm is not rendered.",
          "screenshot": "Advanced_Analytics_Settings_step01_connector_panel.png"
        }
      ],
      "issues": ["The toggle switch component (dnn-switch with On/Off labels) defined in advanced.htm is not accessible. Only a basic checkbox is available in the current GA4 connector template."]
    },
    {
      "scenario_name": "Save advanced settings",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to access and save advanced settings (Domain Name, Toggle, Segmentation Rules)",
          "expected": "Advanced Settings dialog should open with Save functionality",
          "actual": "Advanced Settings dialog is not accessible. The advancedSetting link does not exist in the current UI template.",
          "screenshot": "Advanced_Analytics_Settings_step01_connector_panel.png"
        }
      ],
      "issues": ["Advanced Settings dialog (with Domain Name, Track for Admin toggle, and Segmentation Rules) cannot be accessed. The JavaScript handler exists in connector.js but the UI element to trigger it is missing."]
    },
    {
      "scenario_name": "Verify domain name validation",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to access Domain Name field in Advanced Settings",
          "expected": "Domain Name input field should be available for validation testing",
          "actual": "Domain Name field is not accessible in the current UI. Advanced Settings panel is not available.",
          "screenshot": "Advanced_Analytics_Settings_step01_connector_panel.png"
        }
      ],
      "issues": ["Domain Name field is part of Advanced Settings which is not accessible in the current UI."]
    },
    {
      "scenario_name": "Test empty domain configuration",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to test empty domain configuration (should use 'none')",
          "expected": "Empty domain should default to 'none' value",
          "actual": "Cannot test - Domain Name configuration is not accessible in the current UI.",
          "screenshot": "Advanced_Analytics_Settings_step01_connector_panel.png"
        }
      ],
      "issues": ["Domain Name configuration is not accessible in the current UI."]
    }
  ],
  "observations": [
    "The 'Advanced Analytics Settings' feature (Domain Name, Track for Admin toggle switch, Segmentation Rules) exists in the codebase but is NOT accessible via the UI.",
    "Code files reviewed: advanced.htm contains the full Advanced Settings UI with Domain Name input, Track for Admin toggle (dnn-switch), and Segmentation Rules grid. connector.js contains JavaScript logic for advanced settings dialog. connector.htm has the advancedSetting link.",
    "The running application displays 'Google Analytics 4' connector which uses a different, simplified template with only: Measurement ID textbox and Track for Administrators checkbox.",
    "The advancedSetting CSS class that triggers the Advanced Settings dialog does not exist in the rendered GA4 connector HTML.",
    "Basic admin tracking functionality (enable/disable via checkbox) works correctly and saves successfully.",
    "This appears to be a case where GA4 connector implementation differs from the original Universal Analytics connector that had full Advanced Settings support."
  ],
  "summary": {
    "total_scenarios": 7,
    "passed": 2,
    "failed": 5,
    "pass_rate": "29%"
  }
}
