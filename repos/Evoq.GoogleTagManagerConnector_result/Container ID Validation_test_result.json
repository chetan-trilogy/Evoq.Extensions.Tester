{
  "metadata": {
    "extension_name": "Evoq.GoogleTagManagerConnector",
    "extension_type": "Connector",
    "feature_name": "Container ID Validation",
    "feature_description": "Validates GTM container IDs by checking if they exist and are published on Google's servers",
    "feature_priority": "High",
    "test_date": "2026-01-09T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Validate non-existent container shows error",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Settings > Connectors > Google Tag Manager",
          "expected": "Google Tag Manager connector settings panel opens",
          "actual": "GTM connector settings panel opened successfully with Container ID field visible",
          "screenshot": "Container_ID_Validation_step01_navigate_gtm.png"
        },
        {
          "step_number": 2,
          "action": "Enter non-existent container ID 'GTM-MFWN6M3' and click Save",
          "expected": "Validation error message appears",
          "actual": "Error message displayed: 'The Container Id is invalid or container hasn't been published yet.'",
          "screenshot": "Container_ID_Validation_step02_enter_valid_id.png"
        },
        {
          "step_number": 3,
          "action": "Verify error message is displayed",
          "expected": "Error notification visible",
          "actual": "Error notification appeared and was captured in page snapshot",
          "screenshot": "Container_ID_Validation_step03_validation_error.png"
        },
        {
          "step_number": 4,
          "action": "Test with another container ID 'GTM-5RCHDC6'",
          "expected": "Same validation error message appears",
          "actual": "Same error message displayed confirming validation works consistently",
          "screenshot": "Container_ID_Validation_step04_invalid_container_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Validate malformed container ID shows error",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter malformed container ID 'INVALID-FORMAT' (no GTM- prefix, wrong format)",
          "expected": "Validation error message appears",
          "actual": "Error message displayed: 'The Container Id is invalid or container hasn't been published yet.'",
          "screenshot": "Container_ID_Validation_step05_malformed_id_input.png"
        },
        {
          "step_number": 2,
          "action": "Click Save and verify error",
          "expected": "Configuration is not saved, error shown",
          "actual": "Configuration rejected with error notification",
          "screenshot": "Container_ID_Validation_step06_malformed_id_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Empty container ID clears configuration",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Clear the Container ID field to empty",
          "expected": "Field is empty",
          "actual": "Container ID field cleared successfully",
          "screenshot": "Container_ID_Validation_step07_empty_id_input.png"
        },
        {
          "step_number": 2,
          "action": "Click Save with empty container ID",
          "expected": "Configuration saves successfully (clears GTM configuration)",
          "actual": "Success message displayed: 'Item successfully saved.' - Empty values skip validation per code logic",
          "screenshot": "Container_ID_Validation_step08_empty_id_success.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Validate published GTM container returns success",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempted to find a valid published GTM container ID for testing",
          "expected": "Find a publicly accessible GTM container that returns HTTP 200",
          "actual": "Multiple container IDs tested (GTM-MFWN6M3, GTM-5RCHDC6, GTM-WNNPD5, GTM-NKDMSK, etc.) all returned 404 from Google's servers",
          "screenshot": "Container_ID_Validation_step04_invalid_container_error.png"
        }
      ],
      "issues": [
        "Could not locate a valid, publicly published GTM container ID to test successful validation scenario",
        "All tested container IDs returned HTTP 404 from https://www.googletagmanager.com/gtm.js?id={containerId}",
        "The validation mechanism itself works correctly - it properly rejects invalid containers"
      ]
    }
  ],
  "observations": [
    "The validation mechanism works by making HTTP GET requests to https://www.googletagmanager.com/gtm.js?id={containerId}",
    "Container IDs returning HTTP 200 OK are considered valid; all other responses result in validation failure",
    "Empty container IDs bypass validation entirely and save successfully (this clears/disconnects the connector)",
    "The error message 'The Container Id is invalid or container hasn't been published yet.' is displayed for all validation failures",
    "Testing the 'valid published container' scenario requires access to a real GTM container that is actively published",
    "Network timeout and Google servers unreachable scenarios could not be tested without network manipulation tools"
  ],
  "summary": {
    "total_scenarios": 4,
    "passed": 3,
    "failed": 1,
    "pass_rate": "75%"
  }
}
