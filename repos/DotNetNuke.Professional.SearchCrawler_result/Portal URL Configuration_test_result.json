{
  "metadata": {
    "extension_name": "DotNetNuke.Professional.SearchCrawler",
    "extension_type": "Module",
    "feature_name": "Portal URL Configuration",
    "feature_description": "Manages portal-specific URLs and aliases for crawling operations.",
    "feature_priority": "High",
    "test_date": "2026-01-09T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Get list of portal crawl URLs",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigated to Site Settings > Search > Crawling > URL Paths",
          "expected": "Display list of portal URLs configured for crawling",
          "actual": "Successfully displayed list of 8 portal URLs including http://localhost:8081/, https://localhost:8443/, and various subdomains",
          "screenshot": "Portal_URL_Configuration_step01_navigate.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add portal URL for crawling",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Clicked 'Add URL' button to open add URL form",
          "expected": "Add URL form should open with input field",
          "actual": "Add URL form opened with URL input field displayed",
          "screenshot": "Portal_URL_Configuration_step02_add_url_form.png"
        },
        {
          "step_number": 2,
          "action": "Entered URL 'http://localhost:8081/portal-url-test-2025' and clicked Save",
          "expected": "URL should be added to the list",
          "actual": "URL was successfully added and now appears in the list (9 URLs total)",
          "screenshot": "Portal_URL_Configuration_step04_url_added_verified.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Remove portal URL",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Located the newly added URL in the list and clicked the delete icon (trash icon)",
          "expected": "URL should be removed from the list or confirmation dialog should appear",
          "actual": "Clicking the delete icon opened the edit form instead of deleting the URL. Both edit and delete icons appear to have the same behavior - opening the edit form.",
          "screenshot": "Portal_URL_Configuration_step07_edit_form_opens.png"
        }
      ],
      "issues": [
        "Delete icon does not delete - opens edit form instead",
        "Both pencil (edit) and trash (delete) icons appear to trigger the edit action",
        "No way found to delete a portal URL through the UI"
      ]
    },
    {
      "scenario_name": "Test SSL detection for URLs",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Examined the list of portal URLs to verify SSL detection",
          "expected": "System should display both http:// and https:// URLs based on SSL configuration",
          "actual": "Successfully displays both http:// URLs (port 8081) and https:// URLs (port 8443) for the portal. SSL detection is working correctly based on portal settings.",
          "screenshot": "Portal_URL_Configuration_step08_ssl_detection.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify multi-portal URL management",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Reviewed the list of portal URLs to verify multiple URLs can be managed",
          "expected": "System should support multiple URLs for crawling",
          "actual": "Successfully managing 9 different URLs for the portal including localhost:8081, localhost:8443, dnndev.local, and dnndev.local:8443 with both http and https protocols",
          "screenshot": "Portal_URL_Configuration_step01_navigate.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Auto-initialize primary portal alias: Code in SearchSpiderHelper.InitializePortalUrlCrawlAliases() shows this is a backend initialization process that runs when no URLs exist. It automatically adds the primary portal alias. This cannot be directly tested via UI as URLs already exist.",
    "Portal ID resolution from URL: Code in SearchSpiderHelper.GetPortalId() shows this is internal functionality that resolves portal ID from a given URL by checking against portal aliases. This is backend logic used by the crawler, not directly exposed in the UI.",
    "The delete functionality appears to be broken - clicking the trash icon opens the edit form instead of deleting the URL. This may be a UI bug.",
    "Code suggests GetPortalUrlCrawlAliases() returns URLs stored in PortalSettings table with prefix 'SearchCrawlerPortalAlias_'",
    "SSL detection in code uses GetPortalSettingAsBoolean for SSLEnabled to determine http:// vs https:// prefix"
  ],
  "summary": {
    "total_scenarios": 5,
    "passed": 4,
    "failed": 1,
    "pass_rate": "80%"
  }
}
