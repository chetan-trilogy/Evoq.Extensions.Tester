{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.SiteSettings",
    "extension_type": "PersonaBar Module",
    "feature_name": "Page and File Versioning Configuration",
    "feature_description": "Manages version control settings for both pages and files, allowing administrators to enable/disable versioning and set maximum version limits",
    "feature_priority": "High",
    "test_date": "2026-01-09T19:15:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Enable page versioning and verify it saves correctly",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Site Settings > Site Behavior > More > Versioning",
          "expected": "Versioning section is displayed with page versioning toggle",
          "actual": "Versioning section displayed with Enable Page Versioning toggle currently On",
          "screenshot": "Versioning_step01_initial_state.png"
        },
        {
          "step_number": 2,
          "action": "Disable page versioning first (toggle Off), then toggle it back On",
          "expected": "Toggle switches to On state",
          "actual": "Toggle successfully switched to On state, Save button enabled",
          "screenshot": "Versioning_step05_page_versioning_enabled.png"
        },
        {
          "step_number": 3,
          "action": "Click Save button",
          "expected": "Settings saved successfully with confirmation message",
          "actual": "Success message 'Settings have been updated' displayed, Save button disabled",
          "screenshot": "Versioning_step06_enable_page_saved_success.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Disable page versioning and verify it saves correctly",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click on Enable Page Versioning toggle to turn it Off",
          "expected": "Toggle switches to Off state",
          "actual": "Toggle switched to Off, showing 'Off' text, Save button enabled",
          "screenshot": "Versioning_step03_page_versioning_disabled.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings saved successfully with confirmation message",
          "actual": "Success message 'Settings have been updated' displayed",
          "screenshot": "Versioning_step04_disable_saved_success.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Set maximum page versions within valid range (1-20)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Set Maximum Number of Page Versions Kept to 15",
          "expected": "Value accepts 15 as valid input",
          "actual": "Value 15 accepted, no validation error displayed",
          "screenshot": "Versioning_step07_max_page_versions_15.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings saved successfully",
          "actual": "Success message displayed, value 15 saved correctly",
          "screenshot": "Versioning_step07_max_page_versions_15.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Attempt to set page versions outside valid range and verify validation error",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Set Maximum Number of Page Versions Kept to 0 (below minimum of 1)",
          "expected": "Validation error displayed",
          "actual": "Red exclamation mark error icon appears next to input field indicating invalid value",
          "screenshot": "Versioning_step08_invalid_page_version_0.png"
        },
        {
          "step_number": 2,
          "action": "Set Maximum Number of Page Versions Kept to 25 (above maximum of 20)",
          "expected": "Validation error displayed",
          "actual": "Red exclamation mark error icon appears next to input field indicating invalid value",
          "screenshot": "Versioning_step09_invalid_page_version_25.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Enable file versioning and verify it saves correctly",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click on Enable File Versioning toggle to turn it On",
          "expected": "Toggle switches to On state",
          "actual": "Toggle switched to On, showing 'On' text with blue indicator",
          "screenshot": "Versioning_step11_file_versioning_enabled.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings saved successfully with confirmation message",
          "actual": "Success message 'Settings have been updated' displayed",
          "screenshot": "Versioning_step11_file_versioning_enabled.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Disable file versioning and verify it saves correctly",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click on Enable File Versioning toggle to turn it Off",
          "expected": "Toggle switches to Off state",
          "actual": "Toggle switched to Off, showing 'Off' text with gray indicator",
          "screenshot": "Versioning_step10_file_versioning_disabled.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings saved successfully with confirmation message",
          "actual": "Success message 'Settings have been updated' displayed",
          "screenshot": "Versioning_step10_file_versioning_disabled.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Set maximum file versions within valid range (5-25)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Set Maximum Number of File Versions Kept to 20",
          "expected": "Value accepts 20 as valid input",
          "actual": "Value 20 accepted, no validation error displayed",
          "screenshot": "Versioning_step12_max_file_versions_20.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings saved successfully",
          "actual": "Success message displayed, value 20 saved correctly",
          "screenshot": "Versioning_step12_max_file_versions_20.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Attempt to set file versions outside valid range and verify validation error",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Set Maximum Number of File Versions Kept to 3 (below minimum of 5)",
          "expected": "Validation error displayed",
          "actual": "Red exclamation mark error icon appears next to input field indicating invalid value",
          "screenshot": "Versioning_step13_invalid_file_version_3.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify changes persist after page refresh",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Save settings with Page Versioning On, File Versioning On, Max Page Versions 10, Max File Versions 10",
          "expected": "Settings saved successfully",
          "actual": "Settings saved with success message",
          "screenshot": "Versioning_step14_before_refresh.png"
        },
        {
          "step_number": 2,
          "action": "Refresh the page",
          "expected": "All saved values should persist",
          "actual": "All values persisted correctly: Page Versioning On, File Versioning On, Max Page Versions 10, Max File Versions 10",
          "screenshot": "Versioning_step15_after_refresh_persisted.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Multi-portal testing scenario was not executed as it requires a multi-portal DNN setup which was not available in this test environment. The API code (EvoqSiteSettingsController.cs) does support portalId parameter for multi-portal configurations.",
    "Validation errors appear only after attempting to save (triedToSave flag in code), which is the expected behavior based on the React component implementation.",
    "The versioning feature requires host-level permissions ([RequireHost] attribute in backend code)."
  ],
  "summary": {
    "total_scenarios": 9,
    "passed": 9,
    "failed": 0,
    "pass_rate": "100%"
  }
}
